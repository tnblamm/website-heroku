{"version":3,"sources":["/Users/trungtrucnguyen/Documents/GitHub/website-heroku/src/app/absence-requests/absence-requests-staff/absence-requests-staff.component.html","/Users/trungtrucnguyen/Documents/GitHub/website-heroku/src/app/absence-requests/absence-requests-staff/absence-requests-staff.component.ts","/Users/trungtrucnguyen/Documents/GitHub/website-heroku/src/app/absence-requests/absence-requests-student/absence-requests-student.component.html","/Users/trungtrucnguyen/Documents/GitHub/website-heroku/src/app/absence-requests/absence-requests-student/absence-requests-student.component.ts","/Users/trungtrucnguyen/Documents/GitHub/website-heroku/src/app/absence-requests/absence-requests.component.html","/Users/trungtrucnguyen/Documents/GitHub/website-heroku/src/app/absence-requests/absence-requests.component.ts","/Users/trungtrucnguyen/Documents/GitHub/website-heroku/src/app/absence-requests/absence-requests.module.ts"],"names":[],"mappings":";;;;;AAAA,u2BAAu2B,cAAc,s0BAAs0B,cAAc,yCAAyC,cAAc,yCAAyC,gBAAgB,yCAAyC,yCAAyC,yCAAyC,uCAAuC,yCAAyC,oCAAoC,0NAA0N,oCAAoC,mpDAAmpD,2DAA2D,qBAAqB,ga;;;;;;;;;;;;;;;;;;;;;ACAv9H;AACe;AACc;AAM/E,IAAa,6BAA6B;IAEtC,uCAA0B,MAAc,EAAS,qBAA4C,EAAS,UAAsB;QAAlG,WAAM,GAAN,MAAM,CAAQ;QAAS,0BAAqB,GAArB,qBAAqB,CAAuB;QAAS,eAAU,GAAV,UAAU,CAAY;QAWrH,eAAU,GAAW,CAAC,CAAC;QACvB,UAAK,GAAW,EAAE,CAAC;QACnB,gBAAW,GAAW,CAAC,CAAC;QACxB,eAAU,GAAW,CAAC,CAAC;QACvB,iBAAY,GAAW,EAAE,CAAC;QAC1B,qBAAgB,GAAG,EAAE,CAAC;QAEtB,2BAAsB,GAAG,EAAE,CAAC;QAC5B,gBAAW,GAAG,EAAE,CAAC;QAUjB,uBAAkB,GAAG,CAAC,CAAC;QACvB,2BAAsB,GAAG,CAAC,CAAC;QAC3B,wBAAmB,GAAG,EAAE,CAAC;IA9BhC,CAAC;IAEM,gDAAQ,GAAf;QACI,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC,GAAG,CAAC,CAAC;QAC7E,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC,QAAQ,CAAC,CAAC;QAClF,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC,QAAQ,CAAC,CAAC;QAElF,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC,GAAG,CAAC,EAAE,CAAC;IACxE,CAAC;IAUM,0DAAkB,GAAzB;QAAA,iBAKC;QAJG,IAAI,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,IAAI,CAAC,cAAc,EAAC,IAAI,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,gBAAM;YAChG,KAAI,CAAC,gBAAgB,GAAG,MAAM,CAAC,gBAAgB,CAAC;YAChD,KAAI,CAAC,UAAU,GAAG,MAAM,CAAC,WAAW,CAAC;QACzC,CAAC,EAAC,eAAK,IAAG,KAAI,CAAC,UAAU,CAAC,WAAW,CAAC,SAAS,EAAE,0CAA0C,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9G,CAAC;IACM,sDAAc,GAArB;QACI,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAC9B,CAAC;IAIM,uDAAe,GAAtB,UAAuB,EAAU;QAC7B,MAAM,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QACtC,IAAI,CAAC,mBAAmB,GAAG,uBAAuB,CAAC;QACnD,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;QAC7B,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC,QAAQ,CAAC,EAAE,CAAC;IACrF,CAAC;IACM,qDAAa,GAApB,UAAqB,EAAU;QAC3B,MAAM,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QACtC,IAAI,CAAC,mBAAmB,GAAG,qBAAqB,CAAC;QACjD,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;QAC7B,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC,GAAG,CAAC,EAAE,CAAC;IAChF,CAAC;IACM,uDAAe,GAAtB,UAAuB,EAAU;QAC7B,MAAM,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QACtC,IAAI,CAAC,mBAAmB,GAAG,uBAAuB,CAAC;QACnD,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;QAC7B,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC,QAAQ,CAAC,EAAE,CAAC;IACrF,CAAC;IACM,qDAAa,GAApB;QAAA,iBASC;QARG,IAAI,CAAC,qBAAqB,CAAC,mBAAmB,CAAC,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,sBAAsB,CAAC;aAC/F,SAAS,CAAC,gBAAM;YACb,KAAI,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,KAAI,CAAC,cAAc,EAAC,KAAI,CAAC,WAAW,CAAC;iBAC9E,SAAS,CAAC,gBAAM;gBACb,KAAI,CAAC,gBAAgB,GAAG,MAAM,CAAC,gBAAgB,CAAC;gBAChD,MAAM,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;YAC1C,CAAC,EAAE,eAAK,IAAM,KAAI,CAAC,UAAU,CAAC,WAAW,CAAC,SAAS,EAAE,kCAAkC,EAAE,OAAO,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC;QAC/G,CAAC,EAAE,eAAK,IAAM,KAAI,CAAC,UAAU,CAAC,WAAW,CAAC,SAAS,EAAE,2CAA2C,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACvH,CAAC;IACM,sDAAc,GAArB;QACI,EAAE,EAAC,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,IAAI,CAAC,CAAC,EAAC;YAC5D,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC9B,CAAC;IACL,CAAC;IACM,qDAAa,GAApB,UAAqB,KAAU;QAC3B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC,IAAI,CAAC;QAC7B,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAC9B,CAAC;IACL,oCAAC;AAAD,CAAC;AAvEY,6BAA6B;IAJzC,+EAAS,CAAC;QACP,QAAQ,EAAE,4BAA4B;QACtC,qIAAsD;KACzD,CAAC;yDAGoC,+DAAM,oBAAN,+DAAM,sDAAgC,oFAAqB,oBAArB,oFAAqB,sDAAqB,yEAAU,oBAAV,yEAAU;GAFnH,6BAA6B,CAuEzC;AAvEyC;;;;;;;;;ACR1C,uvBAAuvB,cAAc,4yBAA4yB,gBAAgB,qCAAqC,yCAAyC,qCAAqC,uCAAuC,qCAAqC,oCAAoC,kNAAkN,oCAAoC,i0BAAi0B,2DAA2D,qBAAqB,6Z;;;;;;;;;;;;;;;;;;;;;ACA92F;AACI;AAC+D;AAMhI,IAAa,+BAA+B;IAExC,yCAA0B,MAAc,EAAS,qBAA4C,EAAS,UAAsB,EAAS,WAAwB;QAAnI,WAAM,GAAN,MAAM,CAAQ;QAAS,0BAAqB,GAArB,qBAAqB,CAAuB;QAAS,eAAU,GAAV,UAAU,CAAY;QAAS,gBAAW,GAAX,WAAW,CAAa;QAatJ,qBAAgB,GAAG,EAAE,CAAC;QAEtB,2BAAsB,GAAG,EAAE,CAAC;QAC5B,gBAAW,GAAG,EAAE,CAAC;QASjB,uBAAkB,GAAG,CAAC,CAAC;QACvB,2BAAsB,GAAG,CAAC,CAAC;QAC3B,wBAAmB,GAAG,EAAE,CAAC;IA3BgI,CAAC;IAE1J,kDAAQ,GAAf;QACI,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC,GAAG,CAAC,CAAC;QAC7E,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC,QAAQ,CAAC,CAAC;QAClF,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC,QAAQ,CAAC,CAAC;QAElF,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC,GAAG,CAAC,EAAE,CAAC;IACxE,CAAC;IAQM,4DAAkB,GAAzB;QAAA,iBAIC;QAHG,IAAI,CAAC,qBAAqB,CAAC,oBAAoB,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,EAAE,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,gBAAM;YACrI,KAAI,CAAC,gBAAgB,GAAG,MAAM,CAAC,gBAAgB,CAAC;QACpD,CAAC,EAAE,eAAK,IAAM,KAAI,CAAC,UAAU,CAAC,WAAW,CAAC,SAAS,EAAE,0CAA0C,EAAE,OAAO,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC;IACnH,CAAC;IACM,wDAAc,GAArB;QACI,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAC9B,CAAC;IAIM,yDAAe,GAAtB,UAAuB,EAAU;QAC7B,MAAM,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QACtC,IAAI,CAAC,mBAAmB,GAAG,uBAAuB,CAAC;QACnD,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;IACjC,CAAC;IAKM,yDAAe,GAAtB;QACI,IAAI,CAAC,yBAAyB,CAAC,WAAW,EAAE,CAAC;IACjD,CAAC;IACM,0DAAgB,GAAvB,UAAwB,MAAa;QACjC,EAAE,EAAC,MAAM,IAAI,SAAS,CAAC,EAAC;YACpB,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC9B,CAAC;IACL,CAAC;IACM,uDAAa,GAApB;QAAA,iBAWC;QAVG,IAAI,CAAC,qBAAqB,CAAC,qBAAqB,CAAC,IAAI,CAAC,kBAAkB,CAAC;aACpE,SAAS,CAAC,gBAAM;YACb,KAAI,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC;YAC/B,KAAI,CAAC,gBAAgB,GAAG,MAAM,CAAC,OAAO,CAAC;YACvC,KAAI,CAAC,UAAU,CAAC,WAAW,CAAC,KAAI,CAAC,SAAS,EAAE,KAAI,CAAC,gBAAgB,EAAE,KAAI,CAAC,SAAS,IAAI,SAAS,GAAG,SAAS,GAAG,OAAO,CAAC,CAAC;YACtH,EAAE,CAAC,CAAC,KAAI,CAAC,SAAS,IAAI,SAAS,CAAC,CAAC,CAAC;gBAC9B,MAAM,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;gBACtC,KAAI,CAAC,kBAAkB,EAAE,CAAC;YAC9B,CAAC;QACL,CAAC,EAAE,eAAK,IAAM,KAAI,CAAC,UAAU,CAAC,WAAW,CAAC,SAAS,EAAE,oCAAoC,EAAE,OAAO,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC;IACjH,CAAC;IACM,wDAAc,GAArB;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;YAC9D,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC9B,CAAC;IACL,CAAC;IACL,sCAAC;AAAD,CAAC;AA1BG;IADC,+EAAS,CAAC,iGAAkC,CAAC;kDACZ,iGAAkC,oBAAlC,iGAAkC;kFAAC;AAtC5D,+BAA+B;IAJ3C,+EAAS,CAAC;QACP,QAAQ,EAAE,8BAA8B;QACxC,yIAAwD;KAC3D,CAAC;yDAGoC,+DAAM,oBAAN,+DAAM,sDAAgC,oFAAqB,oBAArB,oFAAqB,sDAAqB,yEAAU,oBAAV,yEAAU,sDAAsB,0EAAW,oBAAX,0EAAW;GAFpJ,+BAA+B,CAgE3C;AAhE2C;;;;;;;;;ACR5C,8V;;;;;;;;;;;;;;;;;;;;ACAkD;AAEuC;AAMzF,IAAa,wBAAwB;IAEjC,kCAA0B,WAAwB,EAAS,UAAsB;QAAvD,gBAAW,GAAX,WAAW,CAAa;QAAS,eAAU,GAAV,UAAU,CAAY;IACjF,CAAC;IAEM,2CAAQ,GAAf;IACA,CAAC;IACL,+BAAC;AAAD,CAAC;AAPY,wBAAwB;IAJpC,+EAAS,CAAC;QACP,QAAQ,EAAE,sBAAsB;QAChC,wGAAgD;KACnD,CAAC;yDAGyC,0EAAW,oBAAX,0EAAW,sDAAqB,yEAAU,oBAAV,yEAAU;GAFxE,wBAAwB,CAOpC;AAPoC;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRU;AACE;AACD;AACO;AAEiB;AACkC;AACM;AACjB;AACxC;AAEvD,IAAM,qBAAqB,GAAW;IACpC,EAAE,IAAI,EAAE,EAAE,EAAG,SAAS,EAAE,6FAAwB,EAAE;CACnD,CAAC;AAqBF,IAAa,qBAAqB;IAAlC;IAAmC,CAAC;IAAD,4BAAC;AAAD,CAAC;AAAvB,qBAAqB;IAnBjC,8EAAQ,CAAC;QACR,OAAO,EAAE;YACP,6DAAY;YACZ,2DAAW;YACX,qEAAY,CAAC,QAAQ,CAAC,qBAAqB,CAAC;YAC5C,qEAAc,CAAC,OAAO,EAAE;YACxB,uEAAgB,CAAC,OAAO,EAAE;YAC1B,iEAAU;YACV,uEAAgB;YAChB,2EAAY;SACb;QACD,YAAY,EAAE;YACZ,6FAAwB;YACxB,+HAA6B;YAC7B,qIAA+B;SAChC;QACD,SAAS,EAAE,EAAE;KACd,CAAC;GAEW,qBAAqB,CAAE;AAAF","file":"7.chunk.js","sourcesContent":["module.exports = \"<div class=\\\"col-xs-12\\\">\\n        <div class=\\\"x_panel\\\">\\n            <div class=\\\"x_title\\\">\\n                <h3>Absence Requests<small> (Only accept when you received their letter)</small></h3>\\n                <div class=\\\"clearfix\\\"></div>\\n            </div>\\n            <div class=\\\"x_content\\\">\\n                <div class=\\\"row\\\">\\n                    <div class=\\\"col-xs-4\\\">\\n                        <input placeholder=\\\"Search Code/Name\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"search_text\\\" (ngModelChange)=\\\"onSearchChange()\\\" />\\n                    </div>\\n                    <div class=\\\"col-xs-3\\\">\\n                        <select class=\\\"form-control\\\" [(ngModel)]=\\\"selectedStatus\\\" (ngModelChange)=\\\"onChangeStatus()\\\">\\n                            <option *ngFor=\\\"let status of absence_request_status\\\" [value]=\\\"status.id\\\">{{status.title}}</option>\\n                        </select>\\n                    </div>\\n                </div>\\n                <br/>\\n                <table class=\\\"table table-bordered text-center table-hover\\\">\\n                    <thead>\\n                        <tr>\\n                            <th>Code</th>\\n                            <th>Name</th>\\n                            <th>Reason</th>\\n                            <th>Start Date</th>\\n                            <th>End Date</th>\\n                            <th>Submited At</th>\\n                            <th>Accepted/Rejected At</th>\\n                            <th>Action</th>\\n                        </tr>\\n                    </thead>\\n                    <tbody>\\n                        <tr *ngFor=\\\"let request of absence_requests\\\">\\n                            <td>{{request.code}}</td>\\n                            <td>{{request.name}}</td>\\n                            <td>{{request.reason}}</td>\\n                            <td>{{request.start_date | date: 'dd/MM/yyyy'}}</td>\\n                            <td>{{request.end_date | date: 'dd/MM/yyyy'}}</td>\\n                            <td>{{request.created_at | date: 'short'}}</td>\\n                            <td *ngIf=\\\"request.status == appService.absence_request_status.new.id\\\"></td>\\n                            <td *ngIf=\\\"request.status != appService.absence_request_status.new.id\\\">{{request.updated_at | date: 'short'}}</td>\\n                            <td *ngIf=\\\"request.status == appService.absence_request_status.new.id\\\"><button class=\\\"btn btn-success btn-sm\\\" (click)=\\\"onAcceptRequest(request.id)\\\">Accept</button><button class=\\\"btn btn-danger btn-sm\\\" (click)=\\\"onRejectRequest(request.id)\\\">Reject</button>\\n                            </td>\\n                            <td *ngIf=\\\"request.status != appService.absence_request_status.new.id\\\"><button class=\\\"btn btn-warning btn-sm\\\" (click)=\\\"onUndoRequest(request.id)\\\">Undo</button></td>\\n                        </tr>\\n                    </tbody>\\n                </table>\\n                <pagination [boundaryLinks]=\\\"true\\\" [totalItems]=\\\"totalItems\\\" [itemsPerPage]=\\\"itemsPerPage\\\" [(ngModel)]=\\\"currentPage\\\" (pageChanged)=\\\"onPageChanged($event)\\\" class=\\\"pull-right no_margin\\\"></pagination>\\n                <div class=\\\"form-group\\\">\\n                    <select [(ngModel)]=\\\"itemsPerPage\\\" (ngModelChange)=\\\"getAbsenceRequests()\\\">\\n                        <option>10</option>\\n                        <option>30</option>\\n                        <option>50</option>\\n                    </select>\\n                    <span>Items/page</span>\\n                </div>\\n            </div>\\n        </div>\\n</div>\\n<!-- Modal -->\\n<div class=\\\"modal fade\\\" id=\\\"confirmModal\\\" role=\\\"dialog\\\">\\n    <div class=\\\"vertical-alignment-helper\\\">\\n        <div class=\\\"modal-dialog modal-sm vertical-align-center\\\">\\n            <!-- Modal content-->\\n            <div class=\\\"modal-content\\\">\\n                <div class=\\\"modal-header\\\">\\n                    <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">&times;</button>\\n                    <h4 class=\\\"modal-title\\\">{{confirm_modal_title}}</h4>\\n                </div>\\n                <div class=\\\"modal-body\\\">\\n                    <button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\">Close</button>\\n                    <button type=\\\"button\\\" class=\\\"btn btn-default btn-success\\\" (click)=\\\"confirmAction()\\\" data-dismiss=\\\"modal\\\">Confirm</button>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/trungtrucnguyen/Documents/GitHub/website-heroku/src/app/absence-requests/absence-requests-staff/absence-requests-staff.component.html\n// module id = ../../../../../src/app/absence-requests/absence-requests-staff/absence-requests-staff.component.html\n// module chunks = 7","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute, Params } from '@angular/router';\nimport { AppService , AbsenceRequestService} from '../../shared/shared.module';\ndeclare var jQuery: any;\n@Component({\n    selector: 'app-absence-requests-staff',\n    templateUrl: './absence-requests-staff.component.html'\n})\nexport class AbsenceRequestsStaffComponent implements OnInit {\n\n    public constructor(public router: Router, public absenceRequestService: AbsenceRequestService, public appService: AppService) {\n    }\n\n    public ngOnInit(): void {\n        this.getAbsenceRequests();\n        this.absence_request_status.push(this.appService.absence_request_status.new);\n        this.absence_request_status.push(this.appService.absence_request_status.accepted);\n        this.absence_request_status.push(this.appService.absence_request_status.rejected);\n\n        this.selectedStatus = this.appService.absence_request_status.new.id;\n    }\n    public pageNumber: number = 1;\n    public limit: number = 15;\n    public currentPage: number = 1;\n    public totalItems: number = 0;\n    public itemsPerPage: number = 10;\n    public absence_requests = [];\n    public selectedStatus;\n    public absence_request_status = [];\n    public search_text = '';\n    public getAbsenceRequests(){\n        this.absenceRequestService.getAbsenceRequests(this.selectedStatus,this.search_text).subscribe(result=>{\n            this.absence_requests = result.absence_requests;\n            this.totalItems = result.total_items;\n        },error=>{this.appService.showPNotify('failure', \"Server Error! Can't get absence_requests\", 'error'); });\n    }\n    public onChangeStatus(){\n        this.getAbsenceRequests();\n    }\n    public current_request_id = 0;\n    public current_request_status = 0;\n    public confirm_modal_title = '';\n    public onAcceptRequest(id: number) {\n        jQuery('#confirmModal').modal(\"show\");\n        this.confirm_modal_title = 'Accept this request ?';\n        this.current_request_id = id;\n        this.current_request_status = this.appService.absence_request_status.accepted.id;\n    }\n    public onUndoRequest(id: number) {\n        jQuery('#confirmModal').modal(\"show\");\n        this.confirm_modal_title = 'Undo this request ?';\n        this.current_request_id = id;\n        this.current_request_status = this.appService.absence_request_status.new.id;\n    }\n    public onRejectRequest(id: number) {\n        jQuery('#confirmModal').modal(\"show\");\n        this.confirm_modal_title = 'Reject this request ?';\n        this.current_request_id = id;\n        this.current_request_status = this.appService.absence_request_status.rejected.id;\n    }\n    public confirmAction() {\n        this.absenceRequestService.changeRequestStatus(this.current_request_id, this.current_request_status)\n            .subscribe(result => {\n                this.absenceRequestService.getAbsenceRequests(this.selectedStatus,this.search_text)\n                    .subscribe(result => {\n                        this.absence_requests = result.absence_requests;\n                        jQuery('#confirmModal').modal(\"hide\");\n                    }, error => { this.appService.showPNotify('failure', \"Server Error! Can't get requests\", 'error');  });\n            }, error => { this.appService.showPNotify('failure', \"Server Error! Can't change request status\", 'error'); });\n    }\n    public onSearchChange(){\n        if(this.search_text.length > 3 || this.search_text.length == 0){\n            this.getAbsenceRequests();\n        }\n    }\n    public onPageChanged(event: any) {\n        this.pageNumber = event.page;\n        this.getAbsenceRequests();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/trungtrucnguyen/Documents/GitHub/website-heroku/src/app/absence-requests/absence-requests-staff/absence-requests-staff.component.ts","module.exports = \"<div class=\\\"col-xs-12\\\">\\n    <div class=\\\"x_panel\\\">\\n        <div class=\\\"x_title\\\">\\n            <h3>Absence Requests</h3>\\n            <div class=\\\"clearfix\\\"></div>\\n        </div>\\n        <div class=\\\"x_content\\\">\\n            <div class=\\\"row\\\">\\n                <div class=\\\"col-xs-4\\\">\\n                    <input placeholder=\\\"Search Code/Name\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"search_text\\\" (ngModelChange)=\\\"onSearchChange()\\\" />\\n                </div>\\n                <div class=\\\"col-xs-3\\\">\\n                    <select class=\\\"form-control\\\" [(ngModel)]=\\\"selectedStatus\\\" (ngModelChange)=\\\"onChangeStatus()\\\">\\n                        <option *ngFor=\\\"let status of absence_request_status\\\" [value]=\\\"status.id\\\">{{status.title}}</option>\\n                    </select>\\n                </div>\\n                <button class=\\\"btn btn-primary\\\" (click)=\\\"onCreateRequest()\\\"><i class=\\\"fa fa-plus\\\"></i> Send request</button>\\n            </div>\\n            <br/>\\n            <table class=\\\"table table-bordered text-center table-hover\\\">\\n                <thead>\\n                    <tr>\\n                        <th>Reason</th>\\n                        <th>Start Date</th>\\n                        <th>End Date</th>\\n                        <th>Submited At</th>\\n                        <th>Accepted/Rejected At</th>\\n                        <th>Action</th>\\n                    </tr>\\n                </thead>\\n                <tbody>\\n                    <tr *ngFor=\\\"let request of absence_requests\\\">\\n                        <td>{{request.reason}}</td>\\n                        <td>{{request.start_date | date: 'dd/MM/yyyy'}}</td>\\n                        <td>{{request.end_date | date: 'dd/MM/yyyy'}}</td>\\n                        <td>{{request.created_at | date: 'short'}}</td>\\n                        <td *ngIf=\\\"request.status == appService.absence_request_status.new.id\\\"></td>\\n                        <td *ngIf=\\\"request.status != appService.absence_request_status.new.id\\\">{{request.updated_at | date: 'short'}}</td>\\n                        <td *ngIf=\\\"request.status == appService.absence_request_status.new.id\\\"><button class=\\\"btn btn-danger btn-sm\\\" (click)=\\\"onCancelRequest(request.id)\\\">Cancel</button></td>\\n                    </tr>\\n                </tbody>\\n            </table>\\n        </div>\\n    </div>\\n</div>\\n<!-- Modal -->\\n<create-absence-request-modal (onConfirmed)=\\\"onRequestCreated($event)\\\"></create-absence-request-modal>\\n<div class=\\\"modal fade\\\" id=\\\"confirmModal\\\" role=\\\"dialog\\\">\\n    <div class=\\\"vertical-alignment-helper\\\">\\n        <div class=\\\"modal-dialog modal-sm vertical-align-center\\\">\\n            <!-- Modal content-->\\n            <div class=\\\"modal-content\\\">\\n                <div class=\\\"modal-header\\\">\\n                    <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">&times;</button>\\n                    <h4 class=\\\"modal-title\\\">{{confirm_modal_title}}</h4>\\n                </div>\\n                <div class=\\\"modal-body\\\">\\n                    <button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\">Close</button>\\n                    <button type=\\\"button\\\" class=\\\"btn btn-default btn-success\\\" (click)=\\\"confirmAction()\\\" data-dismiss=\\\"modal\\\">Send</button>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/trungtrucnguyen/Documents/GitHub/website-heroku/src/app/absence-requests/absence-requests-student/absence-requests-student.component.html\n// module id = ../../../../../src/app/absence-requests/absence-requests-student/absence-requests-student.component.html\n// module chunks = 7","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { Router, ActivatedRoute, Params } from '@angular/router';\nimport { AppService, AbsenceRequestService, AuthService, CreateAbsenceRequestModalComponent } from '../../shared/shared.module';\ndeclare var jQuery: any;\n@Component({\n    selector: 'app-absence-requests-student',\n    templateUrl: './absence-requests-student.component.html'\n})\nexport class AbsenceRequestsStudentComponent implements OnInit {\n\n    public constructor(public router: Router, public absenceRequestService: AbsenceRequestService, public appService: AppService, public authService: AuthService) {}\n\n    public ngOnInit(): void {\n        this.getAbsenceRequests();\n        this.absence_request_status.push(this.appService.absence_request_status.new);\n        this.absence_request_status.push(this.appService.absence_request_status.accepted);\n        this.absence_request_status.push(this.appService.absence_request_status.rejected);\n\n        this.selectedStatus = this.appService.absence_request_status.new.id;\n    }\n\n    public apiResult: string;\n    public apiResultMessage: string;\n    public absence_requests = [];\n    public selectedStatus;\n    public absence_request_status = [];\n    public search_text = '';\n    public getAbsenceRequests() {\n        this.absenceRequestService.getRequestsByStudent(this.authService.current_user.id, this.selectedStatus, this.search_text).subscribe(result => {\n            this.absence_requests = result.absence_requests;\n        }, error => { this.appService.showPNotify('failure', \"Server Error! Can't get absence requests\", 'error');  });\n    }\n    public onChangeStatus() {\n        this.getAbsenceRequests();\n    }\n    public current_request_id = 0;\n    public current_request_status = 0;\n    public confirm_modal_title = '';\n    public onCancelRequest(id: number) {\n        jQuery('#confirmModal').modal(\"show\");\n        this.confirm_modal_title = 'Cancel this request ?';\n        this.current_request_id = id;\n    }\n\n\n    @ViewChild(CreateAbsenceRequestModalComponent)\n    public createAbsenceRequestModal: CreateAbsenceRequestModalComponent;\n    public onCreateRequest() {\n        this.createAbsenceRequestModal.onOpenModal();\n    }\n    public onRequestCreated(result:string){\n        if(result == 'success'){\n            this.getAbsenceRequests();\n        }\n    }\n    public confirmAction() {\n        this.absenceRequestService.cancelAbsenceRequests(this.current_request_id)\n            .subscribe(result => {\n                this.apiResult = result.result;\n                this.apiResultMessage = result.message;\n                this.appService.showPNotify(this.apiResult, this.apiResultMessage, this.apiResult == 'success' ? 'success' : 'error');\n                if (this.apiResult == 'success') {\n                    jQuery('#confirmModal').modal(\"hide\");\n                    this.getAbsenceRequests();\n                }\n            }, error => { this.appService.showPNotify('failure', \"Server Error! Can't cancel request\", 'error');  });\n    }\n    public onSearchChange() {\n        if (this.search_text.length > 3 || this.search_text.length == 0) {\n            this.getAbsenceRequests();\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/trungtrucnguyen/Documents/GitHub/website-heroku/src/app/absence-requests/absence-requests-student/absence-requests-student.component.ts","module.exports = \"<app-absence-requests-staff *ngIf=\\\"authService.current_user.role_id == appService.userType.staff || authService.current_user.role_id == appService.userType.admin\\\"></app-absence-requests-staff>\\n<app-absence-requests-student *ngIf=\\\"authService.current_user.role_id == appService.userType.student\\\"></app-absence-requests-student>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/trungtrucnguyen/Documents/GitHub/website-heroku/src/app/absence-requests/absence-requests.component.html\n// module id = ../../../../../src/app/absence-requests/absence-requests.component.html\n// module chunks = 7","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute, Params } from '@angular/router';\nimport { AppService , AbsenceRequestService, AuthService} from '../shared/shared.module';\ndeclare var jQuery: any;\n@Component({\n    selector: 'app-absence-requests',\n    templateUrl: './absence-requests.component.html'\n})\nexport class AbsenceRequestsComponent implements OnInit {\n\n    public constructor(public authService: AuthService, public appService: AppService) {\n    }\n\n    public ngOnInit(): void {\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/trungtrucnguyen/Documents/GitHub/website-heroku/src/app/absence-requests/absence-requests.component.ts","import { NgModule }       from '@angular/core';\nimport { CommonModule }   from '@angular/common';\nimport { FormsModule }    from '@angular/forms';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { AbsenceRequestsComponent } from './absence-requests.component';\nimport { AbsenceRequestsStaffComponent } from './absence-requests-staff/absence-requests-staff.component';\nimport { AbsenceRequestsStudentComponent } from './absence-requests-student/absence-requests-student.component';\nimport { CollapseModule , DatepickerModule, TabsModule, PaginationModule} from 'ngx-bootstrap';\nimport { SharedModule } from '../shared/shared.module';\n\nconst AbsenceRequestsRoutes: Routes = [\n  { path: '',  component: AbsenceRequestsComponent },\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    RouterModule.forChild(AbsenceRequestsRoutes),\n    CollapseModule.forRoot(),\n    PaginationModule.forRoot(),\n    TabsModule,\n    DatepickerModule,\n    SharedModule\n  ],\n  declarations: [\n    AbsenceRequestsComponent,\n    AbsenceRequestsStaffComponent,\n    AbsenceRequestsStudentComponent\n  ],\n  providers: []\n})\n\nexport class AbsenceRequestsModule{}\n\n\n\n// WEBPACK FOOTER //\n// /Users/trungtrucnguyen/Documents/GitHub/website-heroku/src/app/absence-requests/absence-requests.module.ts"],"sourceRoot":"webpack:///"}